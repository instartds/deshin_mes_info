<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.0.1.final using JasperReports Library version 6.0.0  -->
<!-- 2016-11-30T16:59:44 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="agb211rkr" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="27338490-ae8b-4dc8-965e-c5c5abe78bd2">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="HUMAN"/>
	<style name="border 1">
		<pen lineWidth="1.0" lineStyle="Solid"/>
	</style>
	<style name="_defaultFont" isDefault="true" fontName="_NanumGothic"/>
	<style name="_border" style="_defaultFont">
		<box>
			<topPen lineWidth="0.5"/>
			<leftPen lineWidth="0.5"/>
			<bottomPen lineWidth="0.5"/>
			<rightPen lineWidth="0.5"/>
		</box>
	</style>
	<style name="txtLabel" style="_border" hAlign="Center" vAlign="Middle" isBlankWhenNull="true" fontName="_NanumGothic" fontSize="8" isBold="true" isPdfEmbedded="true"/>
	<style name="txtData" style="_border" hAlign="Left" vAlign="Middle" isBlankWhenNull="true" fontName="_NanumGothic" fontSize="8" isPdfEmbedded="true">
		<box topPadding="0" leftPadding="5" rightPadding="5"/>
	</style>
	<style name="txtDataCenter" style="txtData" hAlign="Center"/>
	<style name="txtUnitPrice" style="txtData" hAlign="Right" pattern="#,##0.00#;(#,##0.00#-)" fontName="_NanumGothic"/>
	<style name="txtPrice" style="txtUnitPrice" pattern="#,##0.###;(#,##0.###-)" fontName="_NanumGothic"/>
	<parameter name="P_COMP_CODE" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["MASTER"]]></defaultValueExpression>
	</parameter>
	<parameter name="PT_TITLENAME" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["거래처집계표"]]></defaultValueExpression>
	</parameter>
	<parameter name="PT_COMPANY_YN" class="java.lang.Boolean" isForPrompting="false">
		<defaultValueExpression><![CDATA[TRUE( )]]></defaultValueExpression>
	</parameter>
	<parameter name="PT_SANCTION_YN" class="java.lang.Boolean" isForPrompting="false">
		<defaultValueExpression><![CDATA[TRUE( )]]></defaultValueExpression>
	</parameter>
	<parameter name="PT_PAGENUM_YN" class="java.lang.Boolean" isForPrompting="false">
		<defaultValueExpression><![CDATA[TRUE( )]]></defaultValueExpression>
	</parameter>
	<parameter name="PT_OUTPUTDATE_YN" class="java.lang.Boolean" isForPrompting="false">
		<defaultValueExpression><![CDATA[FALSE( )]]></defaultValueExpression>
	</parameter>
	<parameter name="PT_OUTPUTDATE" class="java.util.Date" isForPrompting="false">
		<defaultValueExpression><![CDATA[NOW( )]]></defaultValueExpression>
	</parameter>
	<parameter name="P_S_COMP_NAME" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_FR_DATE" class="java.lang.String"/>
	<parameter name="P_TO_DATE" class="java.lang.String"/>
	<parameter name="P_DIV_LABEL" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_ACCNT_DIV_NAME" class="java.lang.String" isForPrompting="false"/>
	<parameter name="DS_SUB01" class="net.sf.jasperreports.engine.JRDataSource" isForPrompting="false"/>
	<parameter name="TOP_PAYMENT" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["WebContent/WEB-INF/report/Top_payment"]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA["WebContent/WEB-INF/report/agb210rkr"]]></defaultValueExpression>
	</parameter>
	<parameter name="P_COMP_NUM_YN" class="java.lang.String" isForPrompting="false"/>
	<queryString>
		<![CDATA[BEGIN
        SET NOCOUNT ON
        SET ARITHABORT ON
    
        --- 1. 변수 선언 및 설정
        DECLARE @MONEY_UNIT        NVARCHAR(03)
              , @REF_ITEM          NVARCHAR(01)
              , @ACCNT_LEVEL       NVARCHAR(01)
    
        SET     @MONEY_UNIT        = NULL
        SET     @REF_ITEM          = '0'
        SET     @ACCNT_LEVEL       = '2'
    
        --- 2. 날짜 포맷 유형 설정
        DECLARE @DateFormat         NVARCHAR(01)
    
        SELECT TOP 1 @DateFormat = SUBSTRING(CODE_NAME, 5, 1)
        FROM   BSA100T WITH (NOLOCK)
        WHERE  COMP_CODE  = 'MASTER'
        AND    MAIN_CODE  = 'B044'
        AND    REF_CODE1  = 'Y'
    
        SET    @DateFormat = ISNULL(@DateFormat, '.')
    
        ----- 3. 임시테이블 선언(전표거래내역 및 소계,누계 계산용)
        IF EXISTS (SELECT TOP 1 1 FROM tempdb..sysobjects WHERE id=object_id('tempdb..#AGB210Skr_120904'))
            DROP TABLE #AGB210Skr_120904
    
        CREATE TABLE #AGB210Skr_120904 ( GUBUN           NVARCHAR(01)    -- 구분(0:이월/거래합계, 1:전표, 3:소계, 4:누계)
                                       , IWALL_GUBUN     NVARCHAR(01)    -- 이월구분(1:이월금액, 2:거래합계)
                                       , ACCNT           NVARCHAR(25)
                                       , ACCNT_NAME      NVARCHAR(100)
                                       , CUSTOM_CODE     NVARCHAR(08)
                                       , CUSTOM_NAME     NVARCHAR(100)
                                       , SORT_DATE       NVARCHAR(20)
                                       , AC_DATE         NVARCHAR(10)
                                       , SLIP_NUM        NUMERIC(07, 0)
                                       , SLIP_SEQ        NUMERIC(05, 0)
                                       , REMARK          NVARCHAR(100)
                                       , DR_AMT_I        NUMERIC(30, 6)
                                       , CR_AMT_I        NUMERIC(30, 6)
                                       , JAN_AMT_I       NUMERIC(30, 6)
                                       , MONEY_UNIT      NVARCHAR(03)
                                       , EXCHG_RATE      NUMERIC(30, 6)
                                       , DR_FOR_AMT_I    NUMERIC(30, 6)
                                       , CR_FOR_AMT_I    NUMERIC(30, 6)
                                       , JAN_FOR_AMT_I   NUMERIC(30, 6)
                                       , INPUT_PATH      NVARCHAR(02)
                                       , INPUT_DIVI      NVARCHAR(02)
                                       , CHR_SLIP_NUM    NVARCHAR(07)
                                       , CHR_SLIP_SEQ    NVARCHAR(05)
                                       , JAN_DIVI        NVARCHAR(01)
                                       , DIV_CODE        NVARCHAR(08)
                                       , KEY_STRING      AS RTRIM(ACCNT) + RTRIM(CUSTOM_CODE) + RTRIM(SORT_DATE) + RTRIM(GUBUN) + RTRIM(IWALL_GUBUN) + RTRIM(CHR_SLIP_NUM) + RTRIM(CHR_SLIP_SEQ)
                                       )
        CREATE INDEX AGB210Skr_IDX01 ON #AGB210Skr_120904(KEY_STRING)
    
        ----- 4. 데이터 조회
        ----- 4.1. 이월금액
        INSERT INTO #AGB210Skr_120904( GUBUN       , IWALL_GUBUN , ACCNT        , ACCNT_NAME   , CUSTOM_CODE  , CUSTOM_NAME  , SORT_DATE , AC_DATE      , REMARK
                                     , DR_AMT_I    , CR_AMT_I    , JAN_AMT_I    , MONEY_UNIT   , EXCHG_RATE
                                     , DR_FOR_AMT_I, CR_FOR_AMT_I, JAN_FOR_AMT_I, JAN_DIVI     , CHR_SLIP_NUM , CHR_SLIP_SEQ)
        SELECT  
                N'0'                                           AS GUBUN
             ,  N'1'                                           AS IWALL_GUBUN
             ,  CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                     ELSE A.ACCNT
                END                                            AS ACCNT
             ,  CASE WHEN @REF_ITEM = '0' THEN C2.ACCNT_NAME
                     WHEN @REF_ITEM = '1' THEN C2.ACCNT_NAME2
                     WHEN @REF_ITEM = '2' THEN C2.ACCNT_NAME3
                END                                            AS ACCNT_NAME
             ,  CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                     WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                END                                            AS CUSTOM_CODE
             ,  CASE WHEN @REF_ITEM = '0' THEN D.CUSTOM_NAME
                     WHEN @REF_ITEM = '1' THEN D.CUSTOM_NAME1
                     WHEN @REF_ITEM = '2' THEN D.CUSTOM_NAME2
                END                                            AS CUSTOM_NAME
             ,  '1900.01.01'                                   AS SORT_DATE
             ,  SUBSTRING('20160801', 1, 4) + @DateFormat +
                SUBSTRING('20160801', 5, 2) + @DateFormat + 
                SUBSTRING('20160801', 7, 2)              	   AS AC_DATE
             ,  '이월금액'				                           AS REMARK
             ,  SUM(ISNULL(A.DR_AMT_I,0.0))                    AS DR_AMT_I
             ,  SUM(ISNULL(A.CR_AMT_I,0.0))                    AS CR_AMT_I
             ,  CASE WHEN C.JAN_DIVI= '1'
                    THEN SUM(ISNULL(A.DR_AMT_I,0.0)) - SUM(ISNULL(A.CR_AMT_I,0.0))
                    ELSE SUM(ISNULL(A.CR_AMT_I,0.0)) - SUM(ISNULL(A.DR_AMT_I,0.0))
                END                                            AS JAN_AMT_I
             ,  @MONEY_UNIT                                    AS MONEY_UNIT
             ,  0                                              AS EXCHG_RATE
             ,  CASE WHEN @MONEY_UNIT = '' THEN 0
                     ELSE SUM(ISNULL(A.DR_FOR_AMT_I,0.0))
                END                                            AS DR_FOR_AMT_I
             ,  CASE WHEN @MONEY_UNIT = '' THEN 0
                     ELSE SUM(ISNULL(A.CR_FOR_AMT_I,0.0))
                END                                            AS CR_FOR_AMT_I
             ,  CASE WHEN @MONEY_UNIT = '' THEN 0
                     ELSE (CASE C.JAN_DIVI WHEN '1' THEN SUM(ISNULL(A.DR_FOR_AMT_I,0.0)) - SUM(ISNULL(A.CR_FOR_AMT_I,0.0))
                                           WHEN '2' THEN SUM(ISNULL(A.CR_FOR_AMT_I,0.0)) - SUM(ISNULL(A.DR_FOR_AMT_I,0.0))
                            END)
                END                                            AS JAN_FOR_AMT_I
             ,  C.JAN_DIVI                                     AS JAN_DIVI
             ,  REPLICATE('0', 7 - LEN(CONVERT(NVARCHAR(7), 0))) + (CONVERT(NVARCHAR(7), 0)) AS CHR_SLIP_NUM
             ,  REPLICATE('0', 5 - LEN(CONVERT(NVARCHAR(5), 0))) + (CONVERT(NVARCHAR(5), 0)) AS CHR_SLIP_SEQ
        FROM           AGB200T  AS A  WITH (NOLOCK)
            INNER JOIN BOR120T  AS B  WITH (NOLOCK) ON  B.COMP_CODE   = A.COMP_CODE
                                                    AND B.DIV_CODE    = A.DIV_CODE
            LEFT  JOIN ABA400T  AS C  WITH (NOLOCK) ON  C.COMP_CODE   = A.COMP_CODE
                                                    AND C.ACCNT       = A.ACCNT
            LEFT  JOIN ABA400T  AS C2 WITH (NOLOCK) ON  C2.COMP_CODE  = A.COMP_CODE
                                                    AND C2.ACCNT      = CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                                                                             ELSE C.ACCNT
                                                                        END
            INNER JOIN BCM100T  AS D WITH (NOLOCK)  ON  D.COMP_CODE   = A.COMP_CODE
                                                    AND D.CUSTOM_CODE = CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                                                                             WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                                                                        END
        WHERE   A.COMP_CODE           = 'MASTER'
        AND     A.AC_DATE         >= '201504'
        AND     A.AC_DATE         <  '20160801'
        					
	        AND     A.DIV_CODE IN
				 (  
				 '01'
				 ) 									
	     
        
        
        
        
        
        GROUP BY CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                      ELSE A.ACCNT
                 END
               , CASE WHEN @REF_ITEM = '0' THEN C2.ACCNT_NAME
                      WHEN @REF_ITEM = '1' THEN C2.ACCNT_NAME2
                      WHEN @REF_ITEM = '2' THEN C2.ACCNT_NAME3
                 END
               , CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                      WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                 END
               , CASE WHEN @REF_ITEM = '0' THEN D.CUSTOM_NAME
                      WHEN @REF_ITEM = '1' THEN D.CUSTOM_NAME1
                      WHEN @REF_ITEM = '2' THEN D.CUSTOM_NAME2
                 END
               , C.JAN_DIVI
    
    
        ----- 4.2. 거래합계
        INSERT INTO #AGB210Skr_120904( GUBUN       , IWALL_GUBUN , ACCNT        , ACCNT_NAME   , CUSTOM_CODE  , CUSTOM_NAME  , SORT_DATE , AC_DATE      , REMARK
                                     , DR_AMT_I    , CR_AMT_I    , JAN_AMT_I    , MONEY_UNIT   , EXCHG_RATE
                                     , DR_FOR_AMT_I, CR_FOR_AMT_I, JAN_FOR_AMT_I, JAN_DIVI     , CHR_SLIP_NUM , CHR_SLIP_SEQ)
        SELECT   
                N'0'                                           AS GUBUN
             ,  N'2'                                           AS IWALL_GUBUN
             ,  CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                     ELSE A.ACCNT
                END                                            AS ACCNT
             ,  CASE WHEN @REF_ITEM = '0' THEN C2.ACCNT_NAME
                     WHEN @REF_ITEM = '1' THEN C2.ACCNT_NAME2
                     WHEN @REF_ITEM = '2' THEN C2.ACCNT_NAME3
                END                                            AS ACCNT_NAME
             ,  CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                     WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                END                                            AS CUSTOM_CODE
             ,  CASE WHEN @REF_ITEM = '0' THEN D.CUSTOM_NAME
                     WHEN @REF_ITEM = '1' THEN D.CUSTOM_NAME1
                     WHEN @REF_ITEM = '2' THEN D.CUSTOM_NAME2
                END                                            AS CUSTOM_NAME
             ,  '1900.01.02'                                   AS SORT_DATE
             ,  SUBSTRING('20160801', 1, 4) + @DateFormat +
                SUBSTRING('20160801', 5, 2) + @DateFormat + 
                SUBSTRING('20160801', 7, 2)              	   AS AC_DATE
             ,  '거래합계'                     					   AS REMARK
             ,  SUM(ISNULL(A.DR_AMT_I,0.0))                    AS DR_AMT_I
             ,  SUM(ISNULL(A.CR_AMT_I,0.0))                    AS CR_AMT_I
             ,  CASE WHEN C.JAN_DIVI= '1'
                    THEN SUM(ISNULL(A.DR_AMT_I,0.0)) - SUM(ISNULL(A.CR_AMT_I,0.0))
                    ELSE SUM(ISNULL(A.CR_AMT_I,0.0)) - SUM(ISNULL(A.DR_AMT_I,0.0))
                END                                            AS JAN_AMT_I
             ,  @MONEY_UNIT                                    AS MONEY_UNIT
             ,  0                                              AS EXCHG_RATE
             ,  CASE WHEN @MONEY_UNIT = '' THEN 0
                     ELSE SUM(ISNULL(A.DR_FOR_AMT_I,0.0))
                END                                            AS DR_FOR_AMT_I
             ,  CASE WHEN @MONEY_UNIT = '' THEN 0
                     ELSE SUM(ISNULL(A.CR_FOR_AMT_I,0.0))
                END                                            AS CR_FOR_AMT_I
             ,  CASE WHEN @MONEY_UNIT = '' THEN 0
                     ELSE (CASE C.JAN_DIVI WHEN '1' THEN SUM(ISNULL(A.DR_FOR_AMT_I,0.0)) - SUM(ISNULL(A.CR_FOR_AMT_I,0.0))
                                           WHEN '2' THEN SUM(ISNULL(A.CR_FOR_AMT_I,0.0)) - SUM(ISNULL(A.DR_FOR_AMT_I,0.0))
                            END)
                END                                            AS JAN_FOR_AMT_I
             ,  C.JAN_DIVI                                     AS JAN_DIVI
             ,  REPLICATE('0', 7 - LEN(CONVERT(NVARCHAR(7), 0))) + (CONVERT(NVARCHAR(7), 0)) AS CHR_SLIP_NUM
             ,  REPLICATE('0', 5 - LEN(CONVERT(NVARCHAR(5), 0))) + (CONVERT(NVARCHAR(5), 0)) AS CHR_SLIP_SEQ
        FROM           AGB200T  AS A  WITH (NOLOCK)
            INNER JOIN BOR120T  AS B  WITH (NOLOCK) ON  B.COMP_CODE   = A.COMP_CODE
                                                    AND B.DIV_CODE    = A.DIV_CODE
            LEFT  JOIN ABA400T  AS C  WITH (NOLOCK) ON  C.COMP_CODE   = A.COMP_CODE
                                                    AND C.ACCNT       = A.ACCNT
            LEFT  JOIN ABA400T  AS C2 WITH (NOLOCK) ON  C2.COMP_CODE  = A.COMP_CODE
                                                    AND C2.ACCNT      = CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                                                                             ELSE C.ACCNT
                                                                        END
            INNER JOIN BCM100T  AS D WITH (NOLOCK)  ON  D.COMP_CODE   = A.COMP_CODE
                                                    AND D.CUSTOM_CODE = CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                                                                             WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                                                                        END
    
        WHERE   A.COMP_CODE           = 'MASTER'
        AND     A.AC_DATE         >= '20160801'
        AND     A.AC_DATE         <  '20160804'
        AND     LEN(A.AC_DATE)     = 6
        AND     A.INPUT_PATH       = 'A1'
        					
	        AND     A.DIV_CODE IN
				 (  
				 '01'
				 ) 									
		  
        
        
        
        
        
    
        GROUP BY CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                      ELSE A.ACCNT
                 END
               , CASE WHEN @REF_ITEM = '0' THEN C2.ACCNT_NAME
                      WHEN @REF_ITEM = '1' THEN C2.ACCNT_NAME2
                      WHEN @REF_ITEM = '2' THEN C2.ACCNT_NAME3
                 END
               , CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                      WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                 END
               , CASE WHEN @REF_ITEM = '0' THEN D.CUSTOM_NAME
                      WHEN @REF_ITEM = '1' THEN D.CUSTOM_NAME1
                      WHEN @REF_ITEM = '2' THEN D.CUSTOM_NAME2
                 END
               , C.JAN_DIVI
        HAVING SUM(ISNULL(A.DR_AMT_I,0.0)) != 0 OR SUM(ISNULL(A.CR_AMT_I,0.0)) !=  0
    
        ----- 4.3. 전표거래내역
        INSERT INTO #AGB210Skr_120904( GUBUN       , IWALL_GUBUN , ACCNT        , ACCNT_NAME   , CUSTOM_CODE  , CUSTOM_NAME  , SORT_DATE , AC_DATE , SLIP_NUM , SLIP_SEQ, REMARK
                                     , DR_AMT_I    , CR_AMT_I    , JAN_AMT_I    , MONEY_UNIT   , EXCHG_RATE
                                     , DR_FOR_AMT_I, CR_FOR_AMT_I, JAN_FOR_AMT_I, INPUT_PATH   , INPUT_DIVI   , JAN_DIVI, CHR_SLIP_NUM , CHR_SLIP_SEQ, DIV_CODE)
        SELECT   
                N'1'                                            AS GUBUN
             ,  N''                                             AS IWALL_GUBUN
             ,  CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                     ELSE A.ACCNT
                END                                             AS ACCNT
             ,  CASE WHEN @REF_ITEM = '0' THEN C2.ACCNT_NAME
                     WHEN @REF_ITEM = '1' THEN C2.ACCNT_NAME2
                     WHEN @REF_ITEM = '2' THEN C2.ACCNT_NAME3
                END                                             AS ACCNT_NAME
             ,  CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                     WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                END                                             AS CUSTOM_CODE
             ,  CASE WHEN @REF_ITEM = '0' THEN D.CUSTOM_NAME
                     WHEN @REF_ITEM = '1' THEN D.CUSTOM_NAME1
                     WHEN @REF_ITEM = '2' THEN D.CUSTOM_NAME2
                END                                             AS CUSTOM_NAME
             ,  SUBSTRING(A.AC_DATE, 1, 4) + @DateFormat +
                SUBSTRING(A.AC_DATE, 5, 2) + @DateFormat + 
                SUBSTRING(A.AC_DATE, 7, 2)                      AS SORT_DATE
             ,  SUBSTRING(A.AC_DATE, 1, 4) + @DateFormat +
                SUBSTRING(A.AC_DATE, 5, 2) + @DateFormat + 
                SUBSTRING(A.AC_DATE, 7, 2)                      AS AC_DATE
             ,  A.SLIP_NUM                                      AS SLIP_NUM
             ,  A.SLIP_SEQ                                      AS SLIP_SEQ
             ,  A.REMARK                                        AS REMARK
             ,  CASE WHEN A.DR_CR = '1' THEN A.AMT_I
                     ELSE 0.0
                END                                             AS DR_AMT_I
             ,  CASE WHEN A.DR_CR = '1' THEN 0.0
                     ELSE A.AMT_I
                END                                             AS CR_AMT_I
             ,  CASE WHEN C.JAN_DIVI = A.DR_CR THEN A.AMT_I
                     ELSE A.AMT_I * (-1)
                END                                             AS JAN_AMT_I
             ,  CASE WHEN @MONEY_UNIT = '' THEN ''
                     ELSE A.MONEY_UNIT
                END                                             AS MONEY_UNIT
             ,  CASE WHEN @MONEY_UNIT = '' THEN NULL
                     ELSE A.EXCHG_RATE_O
                END                                             AS EXCHG_RATE
             ,  CASE WHEN A.DR_CR = '1' THEN A.FOR_AMT_I
                     ELSE 0.0
                END                                             AS DR_FOR_AMT_I
             ,  CASE WHEN A.DR_CR = '1' THEN 0.0
                     ELSE A.FOR_AMT_I
                END                                             AS CR_FOR_AMT_I
             ,  CASE WHEN C2.JAN_DIVI = A.DR_CR THEN A.FOR_AMT_I
                     ELSE A.FOR_AMT_I * (-1)
                END                                             AS JAN_FOR_AMT_I
             ,  A.INPUT_PATH                                    AS INPUT_PATH
             ,  A.INPUT_DIVI                                    AS INPUT_DIVI
             ,  C.JAN_DIVI                                      AS JAN_DIVI
             ,  REPLICATE('0', 7 - LEN(CONVERT(NVARCHAR(7), A.SLIP_NUM))) + (CONVERT(NVARCHAR(7), A.SLIP_NUM)) AS CHR_SLIP_NUM
             ,  REPLICATE('0', 5 - LEN(CONVERT(NVARCHAR(5), A.SLIP_SEQ))) + (CONVERT(NVARCHAR(5), A.SLIP_SEQ)) AS CHR_SLIP_SEQ
             ,  A.DIV_CODE
        FROM           AGJ210T  AS A  WITH (NOLOCK)
            INNER JOIN BOR120T  AS B  WITH (NOLOCK) ON  B.COMP_CODE    = A.COMP_CODE
                                                    AND B.DIV_CODE     = A.DIV_CODE
            LEFT  JOIN ABA400T  AS C  WITH (NOLOCK) ON  C.COMP_CODE    = A.COMP_CODE
                                                    AND C.ACCNT        = A.ACCNT
            LEFT  JOIN ABA400T  AS C2 WITH (NOLOCK) ON  C2.COMP_CODE   = A.COMP_CODE
                                                    AND C2.ACCNT       = CASE WHEN @ACCNT_LEVEL = '1' THEN C.ACCNT_CD
                                                                              ELSE C.ACCNT
                                                                         END
            INNER JOIN BCM100T  AS D WITH (NOLOCK)  ON  D.COMP_CODE    = A.COMP_CODE
                                                    AND D.CUSTOM_CODE  = CASE WHEN A.BOOK_CODE1 = 'A4' THEN A.BOOK_DATA1
                                                                              WHEN A.BOOK_CODE2 = 'A4' THEN A.BOOK_DATA2
                                                                         END
        WHERE   A.COMP_CODE           = 'MASTER'
        AND     A.AC_DATE         >= '20160801'
        AND     A.AC_DATE         <  '20160804'
        AND    (A.BOOK_CODE1       = 'A4'
         OR     A.BOOK_CODE2       = 'A4')
        AND    (A.MOD_DIVI         = ''  OR A.MOD_DIVI IS NULL)
        					
	        AND     A.DIV_CODE IN
				 (  
				 '01'
				 ) 									
		  
        
        
        
        
        

    
    
        ------- 4.3.1 잔액 계산하여 UPDATE
        DECLARE         @AccrueI            NUMERIC(30,6)               -- 잔액
                      , @AccrueForI         NUMERIC(30,6)               -- 잔액(외화)
                      , @AccntCustom        NVARCHAR(50)                -- 계정코드 + 거래처코드
    
        SET @AccrueI         = 0
        SET @AccrueForI      = 0
        SET @AccntCustom     = ''
    
        UPDATE  A
        SET     @AccrueI        = CASE WHEN ISNULL(@AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE
                                            THEN CASE WHEN A.JAN_DIVI = '1' THEN A.DR_AMT_I - A.CR_AMT_I
                                                      ELSE A.CR_AMT_I - A.DR_AMT_I
                                                 END
                                            ELSE CASE WHEN A.JAN_DIVI = '1' THEN ISNULL(@AccrueI, 0) + A.DR_AMT_I - A.CR_AMT_I
                                                      ELSE ISNULL(@AccrueI, 0) + A.CR_AMT_I - A.DR_AMT_I
                                                 END
                                  END
             ,  @AccrueForI     = CASE WHEN ISNULL(@AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE
                                            THEN CASE WHEN A.JAN_DIVI = '1' THEN A.DR_FOR_AMT_I - A.CR_FOR_AMT_I
                                                      ELSE A.CR_FOR_AMT_I - A.DR_FOR_AMT_I
                                                 END
                                            ELSE CASE WHEN A.JAN_DIVI = '1' THEN ISNULL(@AccrueForI, 0) + A.DR_FOR_AMT_I - A.CR_FOR_AMT_I
                                                      ELSE ISNULL(@AccrueForI, 0) + A.CR_FOR_AMT_I - A.DR_FOR_AMT_I
                                                 END
                                  END
             ,  A.JAN_AMT_I     = @AccrueI
             ,  A.JAN_FOR_AMT_I = @AccrueForI
             ,  @AccntCustom    = (A.ACCNT + A.CUSTOM_CODE)
        FROM    #AGB210Skr_120904 A WITH (NOLOCK, INDEX(AGB210Skr_IDX01))
        WHERE   (A.GUBUN = '0' OR A.GUBUN = '1')
    
        ------- 4.4. 소계(월)
        INSERT INTO #AGB210Skr_120904 (GUBUN       , IWALL_GUBUN , ACCNT        , ACCNT_NAME   , CUSTOM_CODE  , CUSTOM_NAME  , SORT_DATE , AC_DATE, REMARK
                                     , DR_AMT_I    , CR_AMT_I    , DR_FOR_AMT_I , CR_FOR_AMT_I)
        SELECT  
                N'3'                                AS GUBUN
             ,  N''                                 AS IWALL_GUBUN
             ,  A.ACCNT
             ,  A.ACCNT_NAME
             ,  A.CUSTOM_CODE
             ,  A.CUSTOM_NAME
             ,  MAX(ISNULL(A.AC_DATE, ''))          AS SORT_DATE
             ,  N''                                 AS AC_DATE
             ,  '소계(월)'					            AS REMARK
             ,  SUM(ISNULL(A.DR_AMT_I     , 0 ))    AS DR_AMT_I
             ,  SUM(ISNULL(A.CR_AMT_I     , 0 ))    AS CR_AMT_I
             ,  SUM(ISNULL(A.DR_FOR_AMT_I , 0 ))    AS DR_FOR_AMT_I
             ,  SUM(ISNULL(A.CR_FOR_AMT_I , 0 ))    AS CR_FOR_AMT_I
        FROM    #AGB210Skr_120904 A WITH (NOLOCK)
        WHERE   A.GUBUN    = '1'
        GROUP BY A.ACCNT, A.ACCNT_NAME, A.CUSTOM_CODE, A.CUSTOM_NAME, SUBSTRING(A.AC_DATE, 1, 7)
    
        ------- 4.4. 누계
        INSERT INTO #AGB210Skr_120904 (GUBUN       , IWALL_GUBUN , ACCNT        , ACCNT_NAME   , CUSTOM_CODE  , CUSTOM_NAME     , SORT_DATE     , AC_DATE, REMARK
                                     , DR_AMT_I    , CR_AMT_I    , JAN_AMT_I    , MONEY_UNIT   , DR_FOR_AMT_I , CR_FOR_AMT_I    , JAN_FOR_AMT_I
                                     , CHR_SLIP_NUM , CHR_SLIP_SEQ , JAN_DIVI)
        SELECT   
                N'4'                                AS GUBUN
             ,  N''                                 AS IWALL_GUBUN
             ,  A.ACCNT
             ,  A.ACCNT_NAME
             ,  A.CUSTOM_CODE
             ,  A.CUSTOM_NAME
             ,  MAX(ISNULL(A.AC_DATE, ''))          AS SORT_DATE
             ,  N''                                 AS AC_DATE
             ,  '누계'          						AS REMARK
             ,  SUM(ISNULL(A.DR_AMT_I     , 0 ))    AS DR_AMT_I
             ,  SUM(ISNULL(A.CR_AMT_I     , 0 ))    AS CR_AMT_I
             ,  CASE WHEN A.JAN_DIVI = '1' THEN SUM(ISNULL(A.DR_AMT_I, 0 ) - ISNULL(A.CR_AMT_I, 0 ))
                     ELSE SUM(ISNULL(A.CR_AMT_I, 0 ) - ISNULL(A.DR_AMT_I, 0 ))
                END                                 AS JAN_AMT_I
             ,  @MONEY_UNIT                         AS MONEY_UNIT
             ,  SUM(ISNULL(A.DR_FOR_AMT_I  , 0 ))   AS DR_FOR_AMT_I
             ,  SUM(ISNULL(A.CR_FOR_AMT_I  , 0 ))   AS CR_FOR_AMT_I
             ,  CASE WHEN A.JAN_DIVI = '1' THEN SUM(ISNULL(A.DR_FOR_AMT_I, 0 ) - ISNULL(A.CR_FOR_AMT_I, 0 ))
                     ELSE SUM(ISNULL(A.CR_FOR_AMT_I, 0 ) - ISNULL(A.DR_FOR_AMT_I, 0 ))
                END                                 AS JAN_FOR_AMT_I
             ,  REPLICATE('0', 7 - LEN(CONVERT(NVARCHAR(7), 9999999))) + (CONVERT(NVARCHAR(7), 9999999)) AS CHR_SLIP_NUM
             ,  REPLICATE('0', 5 - LEN(CONVERT(NVARCHAR(5), 99999)))   + (CONVERT(NVARCHAR(5), 99999))   AS CHR_SLIP_SEQ
             ,  A.JAN_DIVI
        FROM    #AGB210Skr_120904 A WITH (NOLOCK)
        WHERE   (A.GUBUN = '0' OR A.GUBUN = '1')
        GROUP BY SUBSTRING(A.AC_DATE, 1, 7), A.ACCNT, A.ACCNT_NAME, A.CUSTOM_CODE, A.CUSTOM_NAME, A.JAN_DIVI
    
        ------- 4.4.1 누계차변계, 대변계, 잔액 계산하여 UPDATE
        DECLARE         @4_AccrueI            NUMERIC(30,6)               -- 잔액
                      , @4_AccrueForI         NUMERIC(30,6)               -- 잔액(외화)
                      , @4_DrAmtI             NUMERIC(30,6)               -- 누계차변의 누적금액
                      , @4_CrAmtI             NUMERIC(30,6)               -- 누계대변의 누적금액
                      , @4_DrForAmtI          NUMERIC(30,6)               -- 누계차변(외화)의 누적금액
                      , @4_CrForAmtI          NUMERIC(30,6)               -- 누계대변(외화)의 누적금액
                      , @4_AccntCustom        NVARCHAR(50)                -- 계정코드 + 거래처코드
    
        SET @4_AccrueI         = 0
        SET @4_AccrueForI      = 0
        SET @4_DrAmtI          = 0
        SET @4_CrAmtI          = 0
        SET @4_DrForAmtI       = 0
        SET @4_CrForAmtI       = 0
        SET @4_AccntCustom     = ''
    
        UPDATE  A
        SET     @4_AccrueI      = CASE WHEN ISNULL(@4_AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE
                                            THEN CASE WHEN A.JAN_DIVI = '1' THEN A.DR_AMT_I - A.CR_AMT_I
                                                      ELSE                       A.CR_AMT_I - A.DR_AMT_I
                                                 END
                                            ELSE CASE WHEN A.JAN_DIVI = '1' THEN ISNULL(@4_AccrueI, 0) + A.DR_AMT_I - A.CR_AMT_I
                                                      ELSE                       ISNULL(@4_AccrueI, 0) + A.CR_AMT_I - A.DR_AMT_I
                                                 END
                                  END
             ,  @4_AccrueForI   = CASE WHEN ISNULL(@4_AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE
                                            THEN CASE WHEN A.JAN_DIVI = '1' THEN A.DR_FOR_AMT_I - A.CR_FOR_AMT_I
                                                      ELSE                       A.CR_FOR_AMT_I - A.DR_FOR_AMT_I
                                                 END
                                            ELSE CASE WHEN A.JAN_DIVI = '1' THEN ISNULL(@4_AccrueForI, 0) + A.DR_FOR_AMT_I - A.CR_FOR_AMT_I
                                                      ELSE                       ISNULL(@4_AccrueForI, 0) + A.CR_FOR_AMT_I - A.DR_FOR_AMT_I
                                                 END
                                  END
             ,  A.JAN_AMT_I     = @4_AccrueI
             ,  A.JAN_FOR_AMT_I = @4_AccrueForI
    
             ,  @4_DrAmtI       = CASE WHEN ISNULL(@4_AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE THEN A.DR_AMT_I
                                       ELSE ISNULL(@4_DrAmtI, 0)  + A.DR_AMT_I
                                  END
             ,  @4_CrAmtI       = CASE WHEN ISNULL(@4_AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE THEN A.CR_AMT_I
                                       ELSE ISNULL(@4_CrAmtI, 0)  + A.CR_AMT_I
                                  END
             ,  @4_DrForAmtI    = CASE WHEN ISNULL(@4_AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE THEN A.DR_FOR_AMT_I
                                       ELSE ISNULL(@4_DrForAmtI, 0)  + A.DR_FOR_AMT_I
                                  END
             ,  @4_CrForAmtI    = CASE WHEN ISNULL(@4_AccntCustom, '') != A.ACCNT + A.CUSTOM_CODE THEN A.CR_FOR_AMT_I
                                       ELSE ISNULL(@4_CrForAmtI, 0)  + A.CR_FOR_AMT_I
                                  END
            
             ,  A.DR_AMT_I      = @4_DrAmtI
             ,  A.CR_AMT_I      = @4_CrAmtI
             ,  A.DR_FOR_AMT_I  = @4_DrForAmtI
             ,  A.CR_FOR_AMT_I  = @4_CrForAmtI
             ,  @4_AccntCustom  = (A.ACCNT + A.CUSTOM_CODE)
        FROM    #AGB210Skr_120904 A WITH (NOLOCK, INDEX(AGB210Skr_IDX01))
        WHERE   A.GUBUN = '4'
    
        ------- 5. 리턴 데이터
        SELECT 
                A.ACCNT
             ,  A.ACCNT_NAME
             ,  A.CUSTOM_CODE
             ,  A.CUSTOM_NAME
             ,  CASE WHEN A.GUBUN = '0' THEN '' ELSE A.AC_DATE END AS AC_DATE
             ,  A.SLIP_NUM
             ,  A.SLIP_SEQ
             ,  ISNULL(A.REMARK       , '')                    AS REMARK
             ,  ISNULL(A.DR_AMT_I     , 0)                     AS DR_AMT_I
             ,  ISNULL(A.CR_AMT_I     , 0)                     AS CR_AMT_I
             ,  ISNULL(A.JAN_AMT_I    , 0)                     AS JAN_AMT_I
             ,  A.MONEY_UNIT                                   AS MONEY_UNIT
             ,  ISNULL(CASE WHEN A.GUBUN = '1'                        THEN ISNULL(A.EXCHG_RATE, 0)
                     WHEN (A.GUBUN = '0' OR A.GUBUN = '4')     AND
                          ISNULL(A.JAN_FOR_AMT_I, 0) != 0 THEN ISNULL(A.JAN_AMT_I, 0) / ISNULL(A.JAN_FOR_AMT_I, 0)
                END, 0)                                            AS EXCHG_RATE
             ,  ISNULL(A.DR_FOR_AMT_I , 0)                     AS DR_FOR_AMT_I
             ,  ISNULL(A.CR_FOR_AMT_I , 0)                     AS CR_FOR_AMT_I 
             ,  ISNULL(A.JAN_FOR_AMT_I, 0)                     AS JAN_FOR_AMT_I
             ,  A.GUBUN                                        AS GUBUN
             ,  A.IWALL_GUBUN                                  AS IWALL_GUBUN
             ,  ISNULL(A.INPUT_PATH   , '')                    AS INPUT_PATH
             ,  ISNULL(A.INPUT_DIVI   , '')                    AS INPUT_DIVI
             ,  ISNULL(A.DIV_CODE     , '')                    AS DIV_CODE
        FROM           #AGB210Skr_120904 AS A WITH (NOLOCK)
        WHERE   (ISNULL(A.DR_AMT_I     , 0) != 0
           OR    ISNULL(A.CR_AMT_I     , 0) != 0
           OR    ISNULL(A.JAN_AMT_I    , 0) != 0
           OR    ISNULL(A.DR_FOR_AMT_I , 0) != 0
           OR    ISNULL(A.CR_FOR_AMT_I , 0) != 0
           OR    ISNULL(A.JAN_FOR_AMT_I, 0) != 0)
        ORDER BY A.ACCNT, A.CUSTOM_CODE, A.SORT_DATE, A.GUBUN, A.IWALL_GUBUN, A.SLIP_NUM, A.SLIP_SEQ
    
        DROP TABLE #AGB210Skr_120904
    
        SET NOCOUNT OFF
        SET ARITHABORT OFF
    END]]>
	</queryString>
	<field name="ACCNT" class="java.lang.String"/>
	<field name="ACCNT_NAME" class="java.lang.String"/>
	<field name="CUSTOM_CODE" class="java.lang.String"/>
	<field name="CUSTOM_NAME" class="java.lang.String"/>
	<field name="AC_DATE" class="java.lang.String"/>
	<field name="SLIP_NUM" class="java.math.BigDecimal"/>
	<field name="SLIP_SEQ" class="java.math.BigDecimal"/>
	<field name="REMARK" class="java.lang.String"/>
	<field name="DR_AMT_I" class="java.math.BigDecimal"/>
	<field name="CR_AMT_I" class="java.math.BigDecimal"/>
	<field name="JAN_AMT_I" class="java.math.BigDecimal"/>
	<field name="MONEY_UNIT" class="java.lang.String"/>
	<field name="EXCHG_RATE" class="java.math.BigDecimal"/>
	<field name="DR_FOR_AMT_I" class="java.math.BigDecimal"/>
	<field name="CR_FOR_AMT_I" class="java.math.BigDecimal"/>
	<field name="JAN_FOR_AMT_I" class="java.math.BigDecimal"/>
	<field name="GUBUN" class="java.lang.String"/>
	<field name="IWALL_GUBUN" class="java.lang.String"/>
	<field name="INPUT_PATH" class="java.lang.String"/>
	<field name="INPUT_DIVI" class="java.lang.String"/>
	<field name="DIV_CODE" class="java.lang.String"/>
	<group name="ACCNT" isStartNewColumn="true">
		<groupExpression><![CDATA[$F{ACCNT}]]></groupExpression>
	</group>
	<group name="CUSTOM_CODE" isStartNewPage="true">
		<groupExpression><![CDATA[$F{CUSTOM_CODE}]]></groupExpression>
		<groupHeader>
			<band>
				<property name="local_mesure_unitheight" value="pixel"/>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="1">
				<line>
					<reportElement x="20" y="0" width="762" height="1" uuid="5fac779c-bbe9-458b-84f9-218a7d5a7006">
						<property name="local_mesure_unitheight" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="local_mesure_unitwidth" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
				</line>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="171" splitType="Stretch">
			<subreport>
				<reportElement key="" x="462" y="0" width="320" height="50" isPrintInFirstWholeBand="true" uuid="329b8078-38ea-4ff8-89f2-c52c2c9f83a8">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$P{PT_SANCTION_YN}?($V{PAGE_NUMBER} == 1 ? true : false):false]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[$P{DS_SUB01}]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"/top_Payment.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement x="70" y="118" width="160" height="15" uuid="95909799-4a4d-4153-a9b3-b4ec412bdd47">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_ACCNT_DIV_NAME}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="250" y="133" width="40" height="15" uuid="d9d7b1b3-1a0e-4b27-8c68-bf7f59ecf8e3">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[거래처 :]]></text>
			</staticText>
			<textField>
				<reportElement x="20" y="86" width="762" height="13" uuid="d3ef65d9-3d42-4146-9cd6-cf86eea1d966">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$P{P_FR_DATE}.toString().substring(0,4) + "." + $P{P_FR_DATE}.toString().substring(4,6) + "." +
$P{P_FR_DATE}.toString().substring(6,8) + "  ~  " +

$P{P_TO_DATE}.toString().substring(0,4) + "." + $P{P_TO_DATE}.toString().substring(4,6) + "." +
$P{P_TO_DATE}.toString().substring(6,8)]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="20" y="56" width="762" height="30" uuid="dc53e491-aa19-401c-8225-779ece9aafd5">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font size="19" isBold="true" isUnderline="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{PT_TITLENAME}==null?"거래처별원장":$P{PT_TITLENAME}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="20" y="118" width="50" height="15" uuid="1820556d-cd75-47b7-a5c7-cd8a02fb97ca">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[ 사 업 장 :]]></text>
			</staticText>
			<textField>
				<reportElement x="70" y="133" width="160" height="15" uuid="9aa6533f-fb68-4199-8ab2-284a33177de3">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ACCNT} + "  " + $F{ACCNT_NAME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="290" y="133" width="294" height="15" uuid="306ab6b1-e17f-4202-98f1-a686a911d583">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CUSTOM_CODE} + "  " + $F{CUSTOM_NAME}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="20" y="133" width="50" height="15" uuid="0c22cef6-465e-43c4-a288-78e1754a721a">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[계정과목 :]]></text>
			</staticText>
			<staticText>
				<reportElement style="txtLabel" x="20" y="156" width="762" height="15" uuid="158cb8ca-f7aa-489a-aa77-da9d10a9b77d">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="_NanumGothic"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement style="txtLabel" stretchType="RelativeToBandHeight" x="20" y="156" width="70" height="15" uuid="8243400b-691f-470c-9d56-6e8acaafb211">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[전표일]]></text>
			</staticText>
			<staticText>
				<reportElement style="txtLabel" stretchType="RelativeToBandHeight" x="140" y="156" width="417" height="15" uuid="5113f1c1-38b6-4a69-a778-483b989b960b">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[적      요]]></text>
			</staticText>
			<staticText>
				<reportElement style="txtLabel" stretchType="RelativeToBandHeight" x="557" y="156" width="75" height="15" uuid="03099cc9-112d-4833-a5d6-a6688ada4968">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[차변금액]]></text>
			</staticText>
			<staticText>
				<reportElement style="txtLabel" stretchType="RelativeToBandHeight" x="90" y="156" width="50" height="15" uuid="030c6fa7-3c0e-4077-9dc7-9e4638baf8f5">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[번호]]></text>
			</staticText>
			<staticText>
				<reportElement style="txtLabel" stretchType="RelativeToBandHeight" x="632" y="156" width="75" height="15" uuid="e91be866-088e-4f3b-abd8-b4fa10022b68">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[대변금액]]></text>
			</staticText>
			<staticText>
				<reportElement style="txtLabel" stretchType="RelativeToBandHeight" x="707" y="156" width="75" height="15" uuid="1c3631e0-ec51-40dc-af4a-5a176472d011">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.1" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[잔 액]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField pattern="#,##0.###">
				<reportElement style="txtUnitPrice" x="632" y="0" width="75" height="13" uuid="c20ca093-a94a-46f1-80ac-4a5ee1885766">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1"/>
					<leftPen lineWidth="0.1"/>
					<bottomPen lineWidth="0.1"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textFieldExpression><![CDATA[$F{CR_AMT_I}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###">
				<reportElement style="txtUnitPrice" x="707" y="0" width="75" height="13" uuid="e886842b-ab5e-4b9f-a8f6-cfc7998463f5">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1"/>
					<leftPen lineWidth="0.1"/>
					<bottomPen lineWidth="0.1"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textFieldExpression><![CDATA[$F{JAN_AMT_I}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="txtData" x="20" y="0" width="70" height="13" uuid="d5b818f9-7d1d-48ee-b559-6167d1dbd612">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1"/>
					<leftPen lineWidth="0.1"/>
					<bottomPen lineWidth="0.1"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textFieldExpression><![CDATA[$F{AC_DATE}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###;- ,#,##0.###;">
				<reportElement style="txtData" x="140" y="0" width="417" height="13" uuid="238eae3b-deaa-41f7-b62c-5db637b4a7c9">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1"/>
					<leftPen lineWidth="0.1"/>
					<bottomPen lineWidth="0.1"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textElement textAlignment="Left"/>
				<textFieldExpression><![CDATA[$F{REMARK}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="txtLabel" x="20" y="0" width="762" height="13" uuid="2fd9e747-cbbc-4287-bff8-2e8a94c9ef39">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="_NanumGothic"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<textField>
				<reportElement style="txtData" x="90" y="0" width="50" height="13" uuid="7827deaa-f15e-4ba7-8a3b-fc556ad5eba2">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1"/>
					<leftPen lineWidth="0.1"/>
					<bottomPen lineWidth="0.1"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textFieldExpression><![CDATA[$F{SLIP_NUM}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###">
				<reportElement style="txtUnitPrice" x="557" y="0" width="75" height="13" uuid="6eb60383-5296-4658-9ea2-507631658f80">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.1"/>
					<leftPen lineWidth="0.1"/>
					<bottomPen lineWidth="0.1"/>
					<rightPen lineWidth="0.1"/>
				</box>
				<textFieldExpression><![CDATA[$F{DR_AMT_I}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="45" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField pattern="yyyy.MM.dd" isBlankWhenNull="false">
				<reportElement x="680" y="15" width="100" height="15" uuid="61ee67e1-fd84-42bb-a4eb-b4086b76294e">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<printWhenExpression><![CDATA[$P{PT_OUTPUTDATE_YN}]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{PT_OUTPUTDATE}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="20" y="15" width="145" height="15" uuid="99b7832d-2942-4a15-a91f-c055a2ab2604">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<printWhenExpression><![CDATA[$P{PT_COMPANY_YN}]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_S_COMP_NAME}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement style="txtData" x="394" y="15" width="100" height="14" uuid="5e16599e-6c57-4450-bd14-4c3e9cdc0dc8">
					<printWhenExpression><![CDATA[$P{PT_PAGENUM_YN}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["of    " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="txtData" x="294" y="15" width="100" height="14" uuid="cb6e3f2c-5b36-4ca4-b1fb-c6c9905af81f">
					<printWhenExpression><![CDATA[$P{PT_PAGENUM_YN}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
